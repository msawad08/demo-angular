<!DOCTYPE html>
<html>

  <head>
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.7/angular.min.js"></script>
    <script src="app.js"></script>
    <style>
    /* style="border-radius: 25px; background-color: blue; width: 50px; height: 50px;color: white; text-align: center; line-height: 50px;" */
      .baseClass {
        border-radius: 25px;
        width: 50px;
        height: 50px;
        text-align: center;
        line-height: 50px;
      }
    </style>
  </head>

  <body ng-app="demo" >
  <div ng-controller="DynamicFormController">
    <h3 style="text-align: center">DataSet</h3>
    <div ng-repeat="entities in entity" style="float: left; margin-left: 65px; vertical-align: middle">
      <div class="baseClass" ng-style="!entities.active ? {'background-color': 'white', 'color': 'blue', 'border-color': 'blue', 'border-style': 'ridge', 'border-width': '1px'}: {'background-color': 'blue','color': 'white'}" ng-click="nextStage(entities.index)">
        {{ entities.index }}
      </div>
      <div ng-if="entities.index < entity.length" style="width: 150px; height: 2px; background-color: #D3D3D3; position: relative; top: -26px; left: 57px;" ng-style="entities.visited && {'background-color': 'blue'}">
      </div>
      {{ entities.name }}
    </div>
    <div ng-repeat="entities in entity" ng-style="entities.index == 1 && {'padding-top': '100px'}">
      <div ng-repeat="field in entities.fields">
        <div ng-if="entities.active && field.type=='text'" class="form-group">
          <label class="col-sm-2 control-label">{{field.name}}</label>
          <div class="col-sm-6" style="float: none">
            <input type="{{ field.type }}" dynamic-name="field.name" id="{{field.name}}" data-ng-model="field.data"  class="form-control" required/>
             <!-- <span ng-show="myForm.{{field.name}}.$dirty && myForm.{{field.name}}.$error.required">Required!</span>.
             <span  data-ng-show=" {{'form.'+field.name+'.$dirty && form.'+field.name+'.$error.required'}}">Required!</span> -->
          </div>
        </div>
      </div>
      <div ng-if="entities.active" style="text-align: center">
        <button ng-click="backButtonClick(entities.index)">Back</button>
        <button ng-click="nextButtonClick(entities.index)">Next</button>
      </div>
    </div>

 <!-- <form name="myForm" class="form-horizontal" role="form" ng-submit="submitForm()">
 <div ng-repeat="field in entity.fields">
  <ng-form name="form">
    TEXT FIELDS
    <div ng-if="field.type=='text'" class="form-group">
      <label class="col-sm-2 control-label">{{field.label}}</label>
      <div class="col-sm-6">
        <input type="{{ field.type }}" dynamic-name="field.name" id="{{field.name}}" data-ng-model="field.data"  class="form-control" required/>
         <span ng-show="myForm.{{field.name}}.$dirty && myForm.{{field.name}}.$error.required">Required!</span>.
         <span  data-ng-show=" {{'form.'+field.name+'.$dirty && form.'+field.name+'.$error.required'}}">Required!</span>
      </div>
    </div>

    EMAIL FIELDS
    <div ng-if="field.type=='email'" class="form-group">
      <label class="col-sm-2 control-label">{{field.label}}</label>
      <div class="col-sm-6">
        <input type="{{ field.type }}" dynamic-name="field.name" data-ng-model="field.data" class="form-control" required/>
         <span data-ng-show=" {{'form.'+field.name+'.$dirty && form.'+field.name+'.$error.required'}}">Required!</span>
         <span data-ng-show=" {{'form.'+field.name+'.$dirty && form.'+field.name+'.$error.email'}}">Not email!</span>
      </div>
    </div>

    PASSWORD FIELDS
    <div ng-if="field.type=='password'" class="form-group" >
      <label class="col-sm-2 control-label">{{field.label}}</label>
      <div class="col-sm-6">
        <input type="{{ field.type }}" dynamic-name="field.name" data-ng-model="field.data" ng-minlength={{field.min}} ng-maxlength={{field.max}} class="form-control" required/>
         <span data-ng-show=" {{'form.'+field.name+'.$dirty && form.'+field.name+'.$error.required'}}">Required!</span>
         <span data-ng-show=" {{'!form.'+field.name+'.required && (form.'+field.name+'.$error.minlength || form.'+field.name+'.$error.maxlength)' }}">Passwords must be between 8 and 20 characters.</span>
        </div>
    </div>

    SELECT FIELDS
    <div ng-if="field.type=='select'" class="form-group" >
      <label class="col-sm-2 control-label">{{field.label}}</label>
      <div class="col-sm-6">
        <select data-ng-model="field.data" ng-options="option.name for option in field.options" class="form-control" required/>
      </div>
    </div>

    RADIO FIELDS
    <div ng-if="field.type=='radio'" class="form-group">
      <label class="col-sm-2 control-label">{{field.label}}</label>
      <div class="col-sm-6">

        <div class="checkbox" ng-repeat="option in field.options" >
                  <label>
            <input type="radio" data-ng-model="field.data"  name="taskGroup"  id="{{option.name}}" value="{{option.id}}">{{option.name}}
          </label>
                </div>
      </div>
    </div>

    CHECKBOX FIELDS
    <div ng-if="field.type=='checkbox'" class="form-group" >
      <label class="col-sm-2 control-label">{{field.label}}</label>
      <div class="col-sm-6">
               <div class="checkbox" ng-repeat="option in field.options" >
                  <label>
                    <input type="checkbox" data-ng-model="option.data"  name="taskGroup"  id="{{option.name}}" value="{{option.id}}" >{{option.name}}
                  </label>
                </div>

      </div>
    </div>

  </ng-form>

 </div>


  <br/>
  <button ng-disabled="myForm.$invalid" type="submit" id="submit">Submit</button>
  <br/>
  <pre>{{entity|json}}</pre>
   <br/>

 </form> -->
 </div>
  </body>

</html>
